{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PayPalButton = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar PayPalButton = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PayPalButton, _React$Component);\n  function PayPalButton(props) {\n    var _this;\n    _classCallCheck(this, PayPalButton);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PayPalButton).call(this, props));\n    _this.state = {\n      isSdkReady: false\n    };\n    return _this;\n  }\n  _createClass(PayPalButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (typeof window !== \"undefined\" && window !== undefined && window.paypal === undefined) {\n        this.addPaypalSdk();\n      } else if (typeof window !== \"undefined\" && window !== undefined && window.paypal !== undefined && this.props.onButtonReady) {\n        this.props.onButtonReady();\n      }\n    }\n  }, {\n    key: \"createOrder\",\n    value: function createOrder(data, actions) {\n      var _this$props = this.props,\n        currency = _this$props.currency,\n        options = _this$props.options,\n        amount = _this$props.amount,\n        shippingPreference = _this$props.shippingPreference;\n      return actions.order.create({\n        purchase_units: [{\n          amount: {\n            currency_code: currency ? currency : options && options.currency ? options.currency : \"USD\",\n            value: amount.toString()\n          }\n        }],\n        application_context: {\n          shipping_preference: shippingPreference\n        }\n      });\n    }\n  }, {\n    key: \"onApprove\",\n    value: function onApprove(data, actions) {\n      var _this2 = this;\n      return actions.order.capture().then(function (details) {\n        if (_this2.props.onSuccess) {\n          return _this2.props.onSuccess(details, data);\n        }\n      })[\"catch\"](function (err) {\n        if (_this2.props.catchError) {\n          return _this2.props.catchError(err);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$props2 = this.props,\n        amount = _this$props2.amount,\n        onSuccess = _this$props2.onSuccess,\n        createOrder = _this$props2.createOrder,\n        createSubscription = _this$props2.createSubscription,\n        onApprove = _this$props2.onApprove,\n        style = _this$props2.style;\n      var isSdkReady = this.state.isSdkReady;\n      if (!isSdkReady && (typeof window === \"undefined\" || window.paypal === undefined)) {\n        return null;\n      }\n      var Button = window.paypal.Buttons.driver(\"react\", {\n        React: _react[\"default\"],\n        ReactDOM: _reactDom[\"default\"]\n      });\n      var createOrderFn = amount && !createOrder ? function (data, actions) {\n        return _this3.createOrder(data, actions);\n      } : function (data, actions) {\n        return createOrder(data, actions);\n      };\n      return _react[\"default\"].createElement(Button, _extends({}, this.props, {\n        createOrder: createSubscription ? undefined : createOrderFn,\n        createSubscription: createSubscription,\n        onApprove: onSuccess ? function (data, actions) {\n          return _this3.onApprove(data, actions);\n        } : function (data, actions) {\n          return onApprove(data, actions);\n        },\n        style: style\n      }));\n    }\n  }, {\n    key: \"addPaypalSdk\",\n    value: function addPaypalSdk() {\n      var _this4 = this;\n      var _this$props3 = this.props,\n        options = _this$props3.options,\n        onButtonReady = _this$props3.onButtonReady;\n      var queryParams = []; // replacing camelCase with dashes\n\n      Object.keys(options).forEach(function (k) {\n        var name = k.split(/(?=[A-Z])/).join(\"-\").toLowerCase();\n        queryParams.push(\"\".concat(name, \"=\").concat(options[k]));\n      });\n      var script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = \"https://www.paypal.com/sdk/js?\".concat(queryParams.join(\"&\"));\n      script.async = true;\n      script.onload = function () {\n        _this4.setState({\n          isSdkReady: true\n        });\n        if (onButtonReady) {\n          onButtonReady();\n        }\n      };\n      script.onerror = function () {\n        throw new Error(\"Paypal SDK could not be loaded.\");\n      };\n      document.body.appendChild(script);\n    }\n  }]);\n  return PayPalButton;\n}(_react[\"default\"].Component);\nexports.PayPalButton = PayPalButton;\n_defineProperty(PayPalButton, \"propTypes\", {\n  amount: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n  currency: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n  shippingPreference: _propTypes[\"default\"].string,\n  onSuccess: _propTypes[\"default\"].func,\n  catchError: _propTypes[\"default\"].func,\n  onError: _propTypes[\"default\"].func,\n  createOrder: _propTypes[\"default\"].func,\n  createSubscription: _propTypes[\"default\"].func,\n  onApprove: _propTypes[\"default\"].func,\n  style: _propTypes[\"default\"].object,\n  options: _propTypes[\"default\"].shape({\n    clientId: _propTypes[\"default\"].string,\n    merchantId: _propTypes[\"default\"].string,\n    currency: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n    intent: _propTypes[\"default\"].string,\n    commit: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].bool, _propTypes[\"default\"].string]),\n    vault: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].bool, _propTypes[\"default\"].string]),\n    component: _propTypes[\"default\"].string,\n    disableFunding: _propTypes[\"default\"].string,\n    disableCard: _propTypes[\"default\"].string,\n    integrationDate: _propTypes[\"default\"].string,\n    locale: _propTypes[\"default\"].string,\n    buyerCountry: _propTypes[\"default\"].string,\n    debug: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].bool, _propTypes[\"default\"].string])\n  }),\n  onButtonReady: _propTypes[\"default\"].func\n});\n_defineProperty(PayPalButton, \"defaultProps\", {\n  style: {},\n  options: {\n    clientId: \"sb\",\n    currency: \"USD\"\n  },\n  shippingPreference: \"GET_FROM_FILE\"\n});","map":{"version":3,"sources":["../src/index.tsx"],"names":["PayPalButton","React","Component","amount","PropTypes","oneOfType","number","string","currency","shippingPreference","onSuccess","func","catchError","onError","createOrder","createSubscription","onApprove","style","object","options","shape","clientId","merchantId","intent","commit","bool","vault","component","disableFunding","disableCard","integrationDate","locale","buyerCountry","debug","onButtonReady","props","state","isSdkReady","window","undefined","paypal","addPaypalSdk","data","actions","order","create","purchase_units","currency_code","value","toString","application_context","shipping_preference","capture","then","details","err","Button","Buttons","driver","ReactDOM","createOrderFn","queryParams","Object","keys","forEach","name","k","split","join","toLowerCase","push","script","document","createElement","type","src","async","onload","setState","onerror","Error","body","appendChild"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\ndeclare global {\n    interface Window { paypal: any }\n}\n\nexport interface PayPalButtonProps {\n    amount?: number|string,\n    currency?: number|string,\n    shippingPreference?: \"NO_SHIPPING\" | \"GET_FROM_FILE\" | \"SET_PROVIDED_ADDRESS\",\n    onSuccess?: Function,\n    catchError?: Function,\n    onError?: Function,\n    createOrder?: Function,\n    createSubscription?: Function,\n    onApprove?: Function,\n    style?: object,\n    options?: PaypalOptions,\n    onButtonReady?: Function,\n}\n\nexport interface PayPalButtonState {\n    isSdkReady: boolean\n}\n\nexport interface PaypalOptions {\n    clientId?: string,\n    merchantId?: string,\n    currency?: number|string,\n    intent?: string,\n    commit?: boolean|string,\n    vault?: boolean|string,\n    component?: string,\n    disableFunding?: string,\n    disableCard?: string,\n    integrationDate?: string,\n    locale?: string,\n    buyerCountry?: string,\n    debug?: boolean|string\n}\n\nclass PayPalButton extends React.Component<PayPalButtonProps, PayPalButtonState> {\n    static propTypes = {\n        amount: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string,\n        ]),\n        currency: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string,\n        ]),\n        shippingPreference: PropTypes.string,\n        onSuccess: PropTypes.func,\n        catchError: PropTypes.func,\n        onError: PropTypes.func,\n        createOrder: PropTypes.func,\n        createSubscription: PropTypes.func,\n        onApprove: PropTypes.func,\n        style: PropTypes.object,\n        options: PropTypes.shape({\n            clientId: PropTypes.string,\n            merchantId: PropTypes.string,\n            currency: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n            ]),\n            intent: PropTypes.string,\n            commit: PropTypes.oneOfType([\n                PropTypes.bool,\n                PropTypes.string\n            ]),\n            vault: PropTypes.oneOfType([\n                PropTypes.bool,\n                PropTypes.string\n            ]),\n            component: PropTypes.string,\n            disableFunding: PropTypes.string,\n            disableCard: PropTypes.string,\n            integrationDate: PropTypes.string,\n            locale: PropTypes.string,\n            buyerCountry: PropTypes.string,\n            debug: PropTypes.oneOfType([\n                PropTypes.bool,\n                PropTypes.string\n            ])\n        }),\n        onButtonReady: PropTypes.func,\n    }\n\n    static defaultProps = {\n        style: {},\n        options: {\n            clientId: \"sb\",\n            currency: \"USD\"\n        },\n        shippingPreference: \"GET_FROM_FILE\",\n    }\n\n    constructor(props: PayPalButtonProps) {\n        super(props);\n\n        this.state = {\n            isSdkReady: false,\n        };\n    }\n\n    componentDidMount() {\n        if (\n            typeof window !== \"undefined\" &&\n            window !== undefined &&\n            window.paypal === undefined\n        ) {\n            this.addPaypalSdk();\n        }\n        else if (\n            typeof window !== \"undefined\" &&\n            window !== undefined &&\n            window.paypal !== undefined &&\n            this.props.onButtonReady\n        ) {\n            this.props.onButtonReady();\n        }\n    }\n\n    createOrder(data: any, actions: any) {\n\n        const { currency, options, amount, shippingPreference } = this.props;\n\n        return actions.order.create({\n          purchase_units: [\n            {\n              amount: {\n                currency_code: currency\n                  ? currency\n                  : options && options.currency\n                  ? options.currency\n                  : \"USD\",\n                value: amount.toString()\n              }\n            }\n          ],\n          application_context: {\n            shipping_preference: shippingPreference\n          }\n        });\n    }\n\n    onApprove(data: any, actions: any) {\n        return actions.order\n            .capture()\n            .then((details) => {\n                if (this.props.onSuccess) {\n                    return this.props.onSuccess(details, data);\n                }\n            })\n            .catch((err) => {\n                if (this.props.catchError) {\n                    return this.props.catchError(err);\n                }\n            });\n    }\n\n    render() {\n        const {\n            amount,\n            onSuccess,\n            createOrder,\n            createSubscription,\n            onApprove,\n            style,\n        } = this.props;\n        const { isSdkReady } = this.state;\n\n        if (\n            !isSdkReady &&\n            (typeof window === \"undefined\" || window.paypal === undefined)\n        ) {\n            return null;\n        }\n\n        const Button = window.paypal.Buttons.driver(\"react\", {\n            React,\n            ReactDOM,\n        });\n\n        const createOrderFn =\n            amount && !createOrder\n                ? (data: any, actions: any) => this.createOrder(data, actions)\n                : (data: any, actions: any) => createOrder(data, actions);\n\n        return (\n            <Button\n                {...this.props}\n                createOrder={createSubscription ? undefined : createOrderFn}\n                createSubscription={createSubscription}\n                onApprove={\n                    onSuccess\n                        ? (data: any, actions: any) => this.onApprove(data, actions)\n                        : (data: any, actions: any) => onApprove(data, actions)\n                }\n                style={style}\n            />\n        );\n    }\n\n    private addPaypalSdk() {\n        const { options, onButtonReady } = this.props;\n        const queryParams: string[] = [];\n\n        // replacing camelCase with dashes\n        Object.keys(options).forEach(k => {\n            const name = k.split(/(?=[A-Z])/).join(\"-\").toLowerCase();\n            queryParams.push(`${name}=${options[k]}`);\n        });\n\n        const script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = `https://www.paypal.com/sdk/js?${queryParams.join(\"&\")}`;\n        script.async = true;\n        script.onload = () => {\n            this.setState({ isSdkReady: true });\n\n            if (onButtonReady) {\n                onButtonReady();\n            }\n        };\n        script.onerror = () => {\n            throw new Error(\"Paypal SDK could not be loaded.\");\n        };\n    \n        document.body.appendChild(script);\n    }\n}\n\nexport { PayPalButton };\n"]},"metadata":{},"sourceType":"script"}